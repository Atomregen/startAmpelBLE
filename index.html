<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Startampel BLE</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>DR!FT Startampel</h1>
            <div id="statusIndicator" class="disconnected">● Getrennt</div>
        </header>

        <section id="connectionSection">
            <button id="connectBtn">Mit Ampel verbinden (BLE)</button>
        </section>

        <div id="controlPanel" class="hidden">
            <section class="card">
                <h3>Status Monitor</h3>
                <div id="deviceFeedback">Warte auf Rückmeldung...</div>
                <button id="yellowFlagBtn">Yellow Flag ON</button>
            </section>

            <section class="card">
                <h3>Race Server</h3>
                <label>Game IDs (Komma getrennt):</label>
                <input type="text" id="gameIDs" placeholder="g/Gruppe/Event/SessionID">
                
                <label>Oder Event Link:</label>
                <input type="text" id="eventLink" placeholder="Gruppe/EventName">
                
                <div class="btn-group">
                    <button id="fetchScheduleBtn">Zeitplan laden & senden</button>
                </div>
                <div id="schedulePreview" class="small-text">Kein Zeitplan geladen.</div>
            </section>

            <section class="card">
                <h3>Manueller Start</h3>
                <div class="row">
                    <input type="text" id="manDuration" value="00:05:00" placeholder="HH:MM:SS">
                    <input type="number" id="manPreStart" value="10" placeholder="Sek">
                </div>
                <div class="btn-group">
                    <button id="manualStartBtn">Start</button>
                    <button id="cancelBtn" class="danger">Abbruch / Reset</button>
                </div>
            </section>

            <section class="card settings">
                <h3>Einstellungen</h3>
                <label>LED Text:</label>
                <div class="row">
                    <input type="text" id="ledTextInput" maxlength="20">
                    <button id="setLedTextBtn">Setzen</button>
                </div>

                <label>Helligkeit Matrix (1-8):</label>
                <input type="range" id="brtMatrix" min="1" max="8">

                <label>Lautstärke (0-30):</label>
                <input type="range" id="volMp3" min="0" max="30">
            </section>
        </div>
    </div>
    <script src="script.js"></script>
</body>
</html>
